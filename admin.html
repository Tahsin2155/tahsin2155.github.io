<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Portfolio Admin</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    :root {
      --bg: #0b1020;
      --surface: #121a30;
      --surface-2: #1b2543;
      --ink: #eaf0ff;
      --muted: #a3b0d4;
      --accent: #4f7cff;
      --accent-soft: #90aaff;
      --ok: #16a34a;
      --err: #dc2626;
      --warn: #f59e0b;
      --border: #2a3761;
      --radius: 12px;
    }

    body {
      font-family: Inter, Segoe UI, Roboto, Arial, sans-serif;
      background: radial-gradient(circle at 20% -10%, #1e2f61, #0b1020 42%);
      color: var(--ink);
      min-height: 100vh;
      padding: 1.2rem;
    }

    .container { max-width: 1280px; margin: 0 auto; display: grid; gap: 1rem; }
    .card {
      background: rgba(18, 26, 48, 0.92);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 1rem;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.25);
    }

    h1 { font-size: 1.35rem; }
    h2 { font-size: 1rem; }
    p, .hint { color: var(--muted); }
    .hint { font-size: 0.85rem; }
    .stack { display: grid; gap: 0.8rem; }
    .grid-2 { display: grid; gap: 0.8rem; grid-template-columns: repeat(2, minmax(0, 1fr)); }
    .grid-3 { display: grid; gap: 0.8rem; grid-template-columns: repeat(3, minmax(0, 1fr)); }
    .row { display: flex; gap: 0.6rem; flex-wrap: wrap; align-items: center; }

    label { display: grid; gap: 0.32rem; color: var(--muted); font-size: 0.84rem; }
    input, textarea, button {
      border-radius: 10px;
      border: 1px solid var(--border);
      background: var(--surface-2);
      color: var(--ink);
      padding: 0.62rem 0.72rem;
      font-size: 0.9rem;
      width: 100%;
    }
    textarea { min-height: 92px; resize: vertical; font-family: Inter, Segoe UI, Roboto, Arial, sans-serif; }
    input[type="checkbox"] { width: auto; transform: translateY(1px); }

    button {
      cursor: pointer;
      background: var(--accent);
      color: #fff;
      border-color: transparent;
      font-weight: 600;
      width: auto;
    }
    button:hover { filter: brightness(1.05); }
    button.secondary { background: transparent; border-color: var(--border); color: var(--ink); }
    button.warn { background: var(--warn); }
    button.danger { background: var(--err); }

    .status { font-size: 0.9rem; min-height: 1.2rem; color: var(--muted); }
    .ok { color: var(--ok); }
    .err { color: var(--err); }

    .hidden { display: none !important; }
    .section-card {
      border: 1px solid var(--border);
      border-radius: 10px;
      background: rgba(39, 55, 102, 0.22);
      padding: 0.9rem;
      display: grid;
      gap: 0.8rem;
    }
    .repeat-list { display: grid; gap: 0.6rem; }
    .repeat-item {
      border: 1px dashed #4860a4;
      border-radius: 10px;
      background: rgba(12, 19, 40, 0.6);
      padding: 0.75rem;
      display: grid;
      gap: 0.6rem;
    }
    .repeat-item .head {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 0.4rem;
      color: var(--accent-soft);
      font-size: 0.82rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .topbar {
      position: sticky;
      top: 0;
      z-index: 20;
      display: flex;
      gap: 0.6rem;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
      padding: 0.8rem;
      margin: -1rem -1rem 0.8rem;
      background: rgba(12, 17, 35, 0.9);
      border-bottom: 1px solid var(--border);
      border-radius: var(--radius) var(--radius) 0 0;
      backdrop-filter: blur(8px);
    }

    .cms-grid {
      display: grid;
      grid-template-columns: 280px minmax(0, 1fr);
      gap: 1rem;
    }

    .nav-panel {
      position: sticky;
      top: 88px;
      align-self: start;
      max-height: calc(100vh - 130px);
      overflow: auto;
      display: grid;
      gap: 0.4rem;
    }
    .nav-panel a {
      text-decoration: none;
      color: var(--ink);
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 0.55rem 0.7rem;
      background: rgba(24, 35, 68, 0.5);
      font-size: 0.9rem;
    }
    .nav-panel a:hover { border-color: var(--accent); }

    .editor-panel { display: grid; gap: 0.9rem; }

    @media (max-width: 980px) {
      .cms-grid { grid-template-columns: 1fr; }
      .nav-panel { position: static; max-height: none; }
      .grid-2, .grid-3 { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>
  <div class="container">
    <section class="card" id="loginCard">
      <h1 style="margin-bottom: 0.45rem;">Portfolio Admin Login</h1>
      <p style="margin-bottom: 0.9rem;">Sign in to manage your entire portfolio from UI controls.</p>
      <div class="stack" style="max-width: 420px;">
        <label>Username <input id="username" autocomplete="username" /></label>
        <label>Password <input id="password" type="password" autocomplete="current-password" /></label>
        <div class="row">
          <button id="loginBtn">Login</button>
          <a href="/" style="text-decoration:none;"><button class="secondary" type="button">Back to Site</button></a>
        </div>
      </div>
      <div class="status" id="loginStatus"></div>
    </section>

    <section class="card hidden" id="editorCard">
      <div class="topbar">
        <div>
          <h1 style="margin-bottom: 0.2rem;">Portfolio CMS</h1>
          <p class="hint">Edit everything with forms, then save once.</p>
        </div>
        <div class="row">
          <button class="secondary" id="reloadBtn">Reload</button>
          <button id="saveBtn">Save All Changes</button>
          <button class="danger" id="logoutBtn">Logout</button>
        </div>
      </div>

      <div class="cms-grid">
        <nav class="nav-panel">
          <a href="#siteSection">Site</a>
          <a href="#heroSection">Hero</a>
          <a href="#aboutSection">About</a>
          <a href="#timelineSection">Timeline</a>
          <a href="#skillsSection">Skills</a>
          <a href="#githubSection">GitHub</a>
          <a href="#nowSection">Now Playing</a>
          <a href="#projectsSection">Projects</a>
          <a href="#contactSection">Contact</a>
        </nav>

        <div class="editor-panel">
          <section class="section-card" id="siteSection">
            <h2>Site Settings</h2>
            <div class="grid-2">
              <label>Page Title <input id="siteTitle" /></label>
              <label>Nav Logo <input id="siteNavLogo" /></label>
            </div>
            <label>Footer Text <input id="siteFooter" /></label>
          </section>

          <section class="section-card" id="heroSection">
            <h2>Hero</h2>
            <div class="grid-2">
              <label>Tag <input id="heroTag" /></label>
              <label>First Name Line <input id="heroNameFirst" /></label>
            </div>
            <div class="grid-2">
              <label>Accent Name <input id="heroNameAccent" /></label>
              <label>Subtitle <input id="heroSubtitle" /></label>
            </div>
            <div class="grid-2">
              <label>Primary CTA Text <input id="heroCtaPrimaryText" /></label>
              <label>Primary CTA Link <input id="heroCtaPrimaryHref" /></label>
            </div>
            <div class="grid-2">
              <label>Secondary CTA Text <input id="heroCtaSecondaryText" /></label>
              <label>Secondary CTA Link <input id="heroCtaSecondaryHref" /></label>
            </div>
            <div class="stack">
              <div class="row" style="justify-content: space-between;">
                <h2 style="font-size: 0.95rem;">Typing Phrases</h2>
                <button class="secondary" type="button" id="addPhraseBtn">+ Add Phrase</button>
              </div>
              <div id="phrasesList" class="repeat-list"></div>
            </div>
          </section>

          <section class="section-card" id="aboutSection">
            <h2>About</h2>
            <label>Section Title <input id="aboutTitle" /></label>
            <div class="stack">
              <div class="row" style="justify-content: space-between;">
                <h2 style="font-size: 0.95rem;">Paragraphs</h2>
                <button class="secondary" type="button" id="addAboutParagraphBtn">+ Add Paragraph</button>
              </div>
              <div id="aboutParagraphsList" class="repeat-list"></div>
            </div>
            <div class="stack">
              <div class="row" style="justify-content: space-between;">
                <h2 style="font-size: 0.95rem;">Facts</h2>
                <button class="secondary" type="button" id="addFactBtn">+ Add Fact</button>
              </div>
              <div id="factsList" class="repeat-list"></div>
            </div>
          </section>

          <section class="section-card" id="timelineSection">
            <h2>Timeline</h2>
            <label>Section Title <input id="timelineTitle" /></label>
            <div class="row" style="justify-content: space-between;">
              <h2 style="font-size: 0.95rem;">Journey Items</h2>
              <button class="secondary" type="button" id="addTimelineBtn">+ Add Item</button>
            </div>
            <div id="timelineList" class="repeat-list"></div>
          </section>

          <section class="section-card" id="skillsSection">
            <h2>Skills</h2>
            <label>Section Title <input id="skillsTitle" /></label>
            <div class="row" style="justify-content: space-between;">
              <h2 style="font-size: 0.95rem;">Skill Chips</h2>
              <button class="secondary" type="button" id="addSkillBtn">+ Add Skill</button>
            </div>
            <div id="skillsList" class="repeat-list"></div>
          </section>

          <section class="section-card" id="githubSection">
            <h2>GitHub</h2>
            <label>GitHub Username <input id="githubUsername" /></label>
          </section>

          <section class="section-card" id="nowSection">
            <h2>Now Playing</h2>
            <div class="grid-2">
              <label>Status Text <input id="nowStatus" /></label>
              <label>Track Text <input id="nowTrack" /></label>
            </div>
            <label>Artist Text <input id="nowArtist" /></label>
            <label>Note Text <textarea id="nowNote"></textarea></label>
          </section>

          <section class="section-card" id="projectsSection">
            <h2>Projects</h2>
            <label>Section Title <input id="projectsTitle" /></label>
            <div class="row" style="justify-content: space-between;">
              <h2 style="font-size: 0.95rem;">Project Cards</h2>
              <button class="secondary" type="button" id="addProjectBtn">+ Add Project</button>
            </div>
            <div id="projectsList" class="repeat-list"></div>
          </section>

          <section class="section-card" id="contactSection">
            <h2>Contact</h2>
            <label>Section Title <input id="contactTitle" /></label>
            <label>Subtitle <textarea id="contactSubtitle"></textarea></label>
            <div class="grid-3">
              <label>Email <input id="contactEmail" /></label>
              <label>Instagram URL <input id="contactInstagramUrl" /></label>
              <label>Instagram Handle <input id="contactInstagramHandle" /></label>
            </div>
            <div class="grid-2">
              <label>GitHub URL <input id="contactGithubUrl" /></label>
              <label>GitHub Handle <input id="contactGithubHandle" /></label>
            </div>
          </section>
        </div>
      </div>

      <div class="status" id="editorStatus"></div>
    </section>
  </div>

  <script>
    const loginCard = document.getElementById('loginCard');
    const editorCard = document.getElementById('editorCard');
    const loginStatus = document.getElementById('loginStatus');
    const editorStatus = document.getElementById('editorStatus');
    let currentContent = null;

    function setStatus(el, message, isError = false) {
      el.textContent = message;
      el.className = `status ${isError ? 'err' : 'ok'}`;
    }

    function byId(id) {
      return document.getElementById(id);
    }

    function itemCardTemplate(title, body, onRemove) {
      const wrapper = document.createElement('div');
      wrapper.className = 'repeat-item';
      wrapper.innerHTML = `<div class="head"><span>${title}</span></div>`;

      const head = wrapper.querySelector('.head');
      const removeBtn = document.createElement('button');
      removeBtn.type = 'button';
      removeBtn.className = 'warn';
      removeBtn.textContent = 'Remove';
      removeBtn.addEventListener('click', onRemove);
      head.appendChild(removeBtn);

      wrapper.appendChild(body);
      return wrapper;
    }

    function addStringItem(container, value, label, placeholder = '') {
      const input = document.createElement('input');
      input.value = value || '';
      input.placeholder = placeholder;

      const labelEl = document.createElement('label');
      labelEl.textContent = label;
      labelEl.appendChild(input);

      const body = document.createElement('div');
      body.appendChild(labelEl);

      const card = itemCardTemplate(label, body, () => card.remove());
      card.dataset.kind = 'string';
      card.dataset.label = label;
      card.appendChild(document.createElement('div'));
      container.appendChild(card);
      return card;
    }

    function addFactItem(container, fact = {}) {
      const body = document.createElement('div');
      body.className = 'grid-3';
      body.innerHTML = `
        <label>Emoji <input data-k="emoji" value="${fact.emoji || ''}" /></label>
        <label>Label <input data-k="label" value="${fact.label || ''}" /></label>
        <label>Value <input data-k="value" value="${fact.value || ''}" /></label>
      `;

      const card = itemCardTemplate('Fact', body, () => card.remove());
      card.dataset.kind = 'fact';
      container.appendChild(card);
    }

    function addTimelineItem(container, item = {}) {
      const body = document.createElement('div');
      body.className = 'stack';
      body.innerHTML = `
        <div class="grid-2">
          <label>Year/Stage <input data-k="year" value="${item.year || ''}" /></label>
          <label>Title <input data-k="title" value="${item.title || ''}" /></label>
        </div>
        <label>Description <textarea data-k="desc">${item.desc || ''}</textarea></label>
        <label>Badge (optional) <input data-k="badge" value="${item.badge || ''}" /></label>
      `;

      const card = itemCardTemplate('Timeline Item', body, () => card.remove());
      card.dataset.kind = 'timeline';
      container.appendChild(card);
    }

    function addProjectItem(container, project = {}) {
      const body = document.createElement('div');
      body.className = 'stack';
      body.innerHTML = `
        <div class="grid-3">
          <label>Emoji <input data-k="emoji" value="${project.emoji || ''}" /></label>
          <label>Title <input data-k="title" value="${project.title || ''}" /></label>
          <label>Featured <input data-k="featured" type="checkbox" ${project.featured ? 'checked' : ''} /></label>
        </div>
        <label>Description <textarea data-k="desc">${project.desc || ''}</textarea></label>
        <label>Tags (comma separated) <input data-k="tags" value="${(project.tags || []).join(', ')}" /></label>
        <div class="grid-2">
          <label>Live URL <input data-k="liveUrl" value="${project.liveUrl || ''}" /></label>
          <label>Repo URL <input data-k="repoUrl" value="${project.repoUrl || ''}" /></label>
        </div>
      `;

      const card = itemCardTemplate('Project', body, () => card.remove());
      card.dataset.kind = 'project';
      container.appendChild(card);
    }

    function getStringList(containerId) {
      return Array.from(byId(containerId).querySelectorAll('input'))
        .map((i) => i.value.trim())
        .filter(Boolean);
    }

    function clearContainer(id) {
      byId(id).innerHTML = '';
    }

    function fillForm(content) {
      byId('siteTitle').value = content.site?.title || '';
      byId('siteNavLogo').value = content.site?.navLogo || '';
      byId('siteFooter').value = content.site?.footer || '';

      byId('heroTag').value = content.hero?.tag || '';
      byId('heroNameFirst').value = content.hero?.nameFirstLine || '';
      byId('heroNameAccent').value = content.hero?.nameAccent || '';
      byId('heroSubtitle').value = content.hero?.subtitle || '';
      byId('heroCtaPrimaryText').value = content.hero?.ctaPrimaryText || '';
      byId('heroCtaPrimaryHref').value = content.hero?.ctaPrimaryHref || '';
      byId('heroCtaSecondaryText').value = content.hero?.ctaSecondaryText || '';
      byId('heroCtaSecondaryHref').value = content.hero?.ctaSecondaryHref || '';

      byId('aboutTitle').value = content.about?.title || '';
      byId('timelineTitle').value = content.timeline?.title || '';
      byId('skillsTitle').value = content.skills?.title || '';
      byId('githubUsername').value = content.github?.username || '';
      byId('nowStatus').value = content.nowPlaying?.status || '';
      byId('nowTrack').value = content.nowPlaying?.track || '';
      byId('nowArtist').value = content.nowPlaying?.artist || '';
      byId('nowNote').value = content.nowPlaying?.note || '';
      byId('projectsTitle').value = content.projects?.title || '';

      byId('contactTitle').value = content.contact?.title || '';
      byId('contactSubtitle').value = content.contact?.subtitle || '';
      byId('contactEmail').value = content.contact?.email || '';
      byId('contactInstagramUrl').value = content.contact?.instagramUrl || '';
      byId('contactInstagramHandle').value = content.contact?.instagramHandle || '';
      byId('contactGithubUrl').value = content.contact?.githubUrl || '';
      byId('contactGithubHandle').value = content.contact?.githubHandle || '';

      clearContainer('phrasesList');
      (content.hero?.typingPhrases || []).forEach((p) => addStringItem(byId('phrasesList'), p, 'Phrase', 'Typing phrase'));
      if (!content.hero?.typingPhrases?.length) addStringItem(byId('phrasesList'), '', 'Phrase', 'Typing phrase');

      clearContainer('aboutParagraphsList');
      (content.about?.paragraphs || []).forEach((p) => addStringItem(byId('aboutParagraphsList'), p, 'Paragraph', 'About paragraph'));
      if (!content.about?.paragraphs?.length) addStringItem(byId('aboutParagraphsList'), '', 'Paragraph', 'About paragraph');

      clearContainer('factsList');
      (content.about?.facts || []).forEach((f) => addFactItem(byId('factsList'), f));
      if (!content.about?.facts?.length) addFactItem(byId('factsList'));

      clearContainer('timelineList');
      (content.timeline?.items || []).forEach((item) => addTimelineItem(byId('timelineList'), item));
      if (!content.timeline?.items?.length) addTimelineItem(byId('timelineList'));

      clearContainer('skillsList');
      (content.skills?.items || []).forEach((s) => addStringItem(byId('skillsList'), s, 'Skill', 'Skill chip')); 
      if (!content.skills?.items?.length) addStringItem(byId('skillsList'), '', 'Skill', 'Skill chip');

      clearContainer('projectsList');
      (content.projects?.items || []).forEach((project) => addProjectItem(byId('projectsList'), project));
      if (!content.projects?.items?.length) addProjectItem(byId('projectsList'));
    }

    function collectFacts() {
      return Array.from(byId('factsList').querySelectorAll('.repeat-item')).map((card) => ({
        emoji: card.querySelector('[data-k="emoji"]').value.trim(),
        label: card.querySelector('[data-k="label"]').value.trim(),
        value: card.querySelector('[data-k="value"]').value.trim(),
      })).filter((fact) => fact.emoji || fact.label || fact.value);
    }

    function collectTimeline() {
      return Array.from(byId('timelineList').querySelectorAll('.repeat-item')).map((card) => ({
        year: card.querySelector('[data-k="year"]').value.trim(),
        title: card.querySelector('[data-k="title"]').value.trim(),
        desc: card.querySelector('[data-k="desc"]').value.trim(),
        badge: card.querySelector('[data-k="badge"]').value.trim(),
      })).filter((item) => item.year || item.title || item.desc || item.badge);
    }

    function collectProjects() {
      return Array.from(byId('projectsList').querySelectorAll('.repeat-item')).map((card) => ({
        emoji: card.querySelector('[data-k="emoji"]').value.trim(),
        title: card.querySelector('[data-k="title"]').value.trim(),
        desc: card.querySelector('[data-k="desc"]').value.trim(),
        tags: card.querySelector('[data-k="tags"]').value.split(',').map((s) => s.trim()).filter(Boolean),
        liveUrl: card.querySelector('[data-k="liveUrl"]').value.trim(),
        repoUrl: card.querySelector('[data-k="repoUrl"]').value.trim(),
        featured: card.querySelector('[data-k="featured"]').checked,
      })).filter((project) => project.title || project.desc || project.repoUrl || project.liveUrl);
    }

    function buildContentFromForm() {
      const content = {
        site: {
          title: byId('siteTitle').value.trim(),
          navLogo: byId('siteNavLogo').value.trim(),
          footer: byId('siteFooter').value.trim(),
        },
        hero: {
          tag: byId('heroTag').value.trim(),
          nameFirstLine: byId('heroNameFirst').value.trim(),
          nameAccent: byId('heroNameAccent').value.trim(),
          subtitle: byId('heroSubtitle').value.trim(),
          typingPhrases: getStringList('phrasesList'),
          ctaPrimaryText: byId('heroCtaPrimaryText').value.trim(),
          ctaPrimaryHref: byId('heroCtaPrimaryHref').value.trim(),
          ctaSecondaryText: byId('heroCtaSecondaryText').value.trim(),
          ctaSecondaryHref: byId('heroCtaSecondaryHref').value.trim(),
        },
        about: {
          title: byId('aboutTitle').value.trim(),
          paragraphs: getStringList('aboutParagraphsList'),
          facts: collectFacts(),
        },
        timeline: {
          title: byId('timelineTitle').value.trim(),
          items: collectTimeline(),
        },
        skills: {
          title: byId('skillsTitle').value.trim(),
          items: getStringList('skillsList'),
        },
        github: {
          username: byId('githubUsername').value.trim(),
        },
        nowPlaying: {
          status: byId('nowStatus').value.trim(),
          track: byId('nowTrack').value.trim(),
          artist: byId('nowArtist').value.trim(),
          note: byId('nowNote').value.trim(),
        },
        projects: {
          title: byId('projectsTitle').value.trim(),
          items: collectProjects(),
        },
        contact: {
          title: byId('contactTitle').value.trim(),
          subtitle: byId('contactSubtitle').value.trim(),
          email: byId('contactEmail').value.trim(),
          instagramUrl: byId('contactInstagramUrl').value.trim(),
          instagramHandle: byId('contactInstagramHandle').value.trim(),
          githubUrl: byId('contactGithubUrl').value.trim(),
          githubHandle: byId('contactGithubHandle').value.trim(),
        },
      };
      return content;
    }

    async function loadContent() {
      const res = await fetch('/api/admin/content');
      if (!res.ok) throw new Error('Failed to load content');
      currentContent = await res.json();
      fillForm(currentContent);
      setStatus(editorStatus, 'Content loaded.');
    }

    async function checkAuth() {
      const res = await fetch('/api/admin/me');
      const data = await res.json();
      if (data.authenticated) {
        await loadContent();
        loginCard.classList.add('hidden');
        editorCard.classList.remove('hidden');
      }
    }

    byId('loginBtn').addEventListener('click', async () => {
      setStatus(loginStatus, 'Signing in...');
      try {
        const res = await fetch('/api/admin/login', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            username: byId('username').value.trim(),
            password: byId('password').value,
          }),
        });
        if (!res.ok) {
          const data = await res.json().catch(() => ({}));
          throw new Error(data.error || 'Login failed');
        }
        await loadContent();
        loginCard.classList.add('hidden');
        editorCard.classList.remove('hidden');
      } catch (error) {
        setStatus(loginStatus, error.message, true);
      }
    });

    byId('logoutBtn').addEventListener('click', async () => {
      await fetch('/api/admin/logout', { method: 'POST' });
      editorCard.classList.add('hidden');
      loginCard.classList.remove('hidden');
      setStatus(loginStatus, 'Logged out.');
    });

    byId('reloadBtn').addEventListener('click', async () => {
      try {
        await loadContent();
      } catch (error) {
        setStatus(editorStatus, error.message, true);
      }
    });

    byId('saveBtn').addEventListener('click', async () => {
      setStatus(editorStatus, 'Saving...');
      try {
        const content = buildContentFromForm();
        const res = await fetch('/api/admin/content', {
          method: 'PUT',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(content),
        });
        if (!res.ok) {
          const data = await res.json().catch(() => ({}));
          throw new Error(data.error || 'Save failed');
        }
        currentContent = content;
        setStatus(editorStatus, 'Saved successfully.');
      } catch (error) {
        setStatus(editorStatus, error.message, true);
      }
    });

    byId('addPhraseBtn').addEventListener('click', () => addStringItem(byId('phrasesList'), '', 'Phrase', 'Typing phrase'));
    byId('addAboutParagraphBtn').addEventListener('click', () => addStringItem(byId('aboutParagraphsList'), '', 'Paragraph', 'About paragraph'));
    byId('addFactBtn').addEventListener('click', () => addFactItem(byId('factsList')));
    byId('addTimelineBtn').addEventListener('click', () => addTimelineItem(byId('timelineList')));
    byId('addSkillBtn').addEventListener('click', () => addStringItem(byId('skillsList'), '', 'Skill', 'Skill chip'));
    byId('addProjectBtn').addEventListener('click', () => addProjectItem(byId('projectsList')));

    checkAuth();
  </script>
</body>
</html>
